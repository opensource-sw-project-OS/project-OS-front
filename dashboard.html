<!-- ‚úÖ Ïä§ÌÉÄÏùº Ïú†ÏßÄ + Ï†êÎ©îÏ∂î, ÏòàÏÇ∞, ÏßÄÏ∂ú ÏôÑÏ†Ñ ÌÜµÌï© Î≤ÑÏ†Ñ (ÏòàÏÇ∞/Ï†êÎ©îÏ∂îÎäî Ìè≠ Î≥µÏõê) -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ÎåÄÏãúÎ≥¥Îìú</title>
  <style>
    @font-face {
      font-family: 'SUIT';
      font-style: normal;
      font-weight: 400;
      src: url('https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT-Regular.woff2') format('woff2');
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_KAKAO_API_KEY_HERE&libraries=services"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'SUIT', sans-serif;
      display: flex;
      height: 100vh;
      background: linear-gradient(to bottom, #d7dadd 0%, #c4c9d6 60%, #b0c4db 100%);
    }
    .side-menu {
      width: 220px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 100px 0;
      gap: 20px;
    }
    .pill-menu {
      margin-top: 13px;
      margin-left: 100px;
      display: flex;
      align-items: center;
      gap: 30px;
      background: rgba(255, 255, 255, 0.3);
      width: 200px;
      padding: 12px 25px;
      border-radius: 9999px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      color: #333;
      font-size: 17px;
      font-weight: 600;
      cursor: pointer;
      backdrop-filter: blur(10px);
    }
    .pill-menu:hover {
      background: rgba(255, 255, 255, 0.6);
    }
    .pill-menu img {
      margin-left: 20px;
      width: 33px;
      height: 33px;
    }
    .main-content {
      flex: 1;
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-y: auto;
      gap: 20px;
    }
    .glass-box {
      max-width: 600px;
      width: 100%;
      padding: 20px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 20px;
      backdrop-filter: blur(15px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      text-align: center;
    }
    .glass-row-2 {
      display: flex;
      gap: 20px;
      width: 90%;
    }
    .glass-col {
      flex: 1;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 20px;
      padding: 20px;
      backdrop-filter: blur(15px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    canvas {
      margin-top: 20px;
      background: transparent;
      border-radius: 10px;
    }
    #map {
      width: 100%;
      height: 400px;
      border-radius: 10px;
      margin-top: 20px;
    }
  </style>
</head>
<!-- ÏúÑÏùò <head>Îäî ÌòÑÏû¨ Ï∫îÎ≤ÑÏä§ Í∑∏ÎåÄÎ°ú ÎëêÍ≥† -->
  <body>
    <aside class="side-menu">
      <div class="pill-menu" onclick="showSpending()">
        <img src="image/money2.png" alt="ÏßÄÏ∂ú"> ÏßÄÏ∂ú
      </div>
      <div class="pill-menu">
        <img src="image/emotion.png" alt="Í∞êÏ†ï"> Í∞êÏ†ï
      </div>
      <div class="pill-menu" onclick="showBudget()">
        <img src="image/budget.png" alt="ÏòàÏÇ∞"> ÏòàÏÇ∞
      </div>
      <div class="pill-menu" onclick="showLunchMap()">
        <img src="image/dish.png" alt="Ï†êÎ©îÏ∂î"> Ï†êÎ©îÏ∂î
      </div>
    </aside>
  
    <main class="main-content" id="main"></main>
  
    <script>
      function showBudget() {
        document.getElementById("main").innerHTML = `
          <div class="glass-box">
            <h2>Ïù¥Î≤à Îã¨ ÏòàÏÇ∞</h2>
            <input type="number" id="totalBudget" placeholder="Ï¥ù ÏòàÏÇ∞ ÏûÖÎ†• (‚Ç©)" />
            <input type="number" id="usedBudget" placeholder="ÏÇ¨Ïö©Ìïú Í∏àÏï° ÏûÖÎ†• (‚Ç©)" />
            <button onclick="drawChart()">ÌïúÎààÏóê ÌôïÏù∏</button>
            <canvas id="budgetChart" width="300" height="300"></canvas>
          </div>
        `;
      }
  
      function drawChart() {
        const total = parseInt(document.getElementById("totalBudget").value);
        const used = parseInt(document.getElementById("usedBudget").value);
        const remain = total - used;
  
        const ctx = document.getElementById('budgetChart').getContext('2d');
        new Chart(ctx, {
          type: 'doughnut',
          data: {
            labels: ['ÏÇ¨Ïö©Ìïú Í∏àÏï°', 'ÎÇ®ÏùÄ Í∏àÏï°'],
            datasets: [{
              data: [used, remain],
              backgroundColor: ['#CE6969', '#83A2DB'],
              borderWidth: 1
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'bottom',
                labels: {
                  font: {
                    family: 'SUIT',
                    size: 14
                  }
                }
              }
            }
          }
        });
      }
  
      function showLunchMap() {
        const today = new Date();
        const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
        const remainingDays = lastDay.getDate() - today.getDate();
        const totalBudget = 200000;
        const used = 100000;
        const remaining = totalBudget - used;
        const lunchBudget = Math.floor(remaining / (remainingDays * 2));
  
        document.getElementById("main").innerHTML = `
          <div class="glass-box">
            <h2>Ï†êÏã¨ Î©îÎâ¥ Ï∂îÏ≤ú üç±</h2>
            <p>1Ïù∏Îãπ Ï†êÏã¨ ÏòàÏÇ∞: ÏïΩ ‚Ç©${lunchBudget.toLocaleString()}Ïõê</p>
            <div id="map"></div>
          </div>
        `;
  
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            const mapContainer = document.getElementById('map');
  
            const map = new kakao.maps.Map(mapContainer, {
              center: new kakao.maps.LatLng(lat, lng),
              level: 4
            });
  
            const ps = new kakao.maps.services.Places();
            ps.keywordSearch('ÎßõÏßë', function(data, status) {
              if (status === kakao.maps.services.Status.OK) {
                data.forEach(function(place) {
                  const price = Math.floor(Math.random() * 15000 + 5000);
                  if (price <= lunchBudget) {
                    const marker = new kakao.maps.Marker({
                      map: map,
                      position: new kakao.maps.LatLng(place.y, place.x)
                    });
                    const infowindow = new kakao.maps.InfoWindow({
                      content: `<div style='padding:5px;font-size:13px;'>${place.place_name}<br/>Í∞ÄÍ≤©: ‚Ç©${price.toLocaleString()}</div>`
                    });
                    kakao.maps.event.addListener(marker, 'click', function() {
                      infowindow.open(map, marker);
                    });
                  }
                });
              }
            }, {location: map.getCenter(), radius: 2000});
          });
        }
      }
  
      function showSpending() {
        document.getElementById("main").innerHTML = `
          <div class="glass-row-2">
            <div class="glass-col">
              <h3>Î∂ÑÏïºÎ≥Ñ Ï¥ù ÏßÄÏ∂ú</h3>
              <canvas id="categoryTotalChart"></canvas>
            </div>
            <div class="glass-col">
              <h3>ÌïòÎ£® ÏßÄÏ∂ú Ï¥ùÌï© Î≥ÄÌôî</h3>
              <canvas id="dailyTotalChart"></canvas>
            </div>
          </div>
          <div class="glass-row-2">
          <div class="glass-col" style="width: 100%;">
            <h3>Î∂ÑÏïºÎ≥Ñ ÏùºÎ≥Ñ ÏßÄÏ∂ú Î≥ÄÌôî</h3>
            <canvas id="categoryDailyChart"></canvas>
          </div>
        </div>
        `;
  
        new Chart(document.getElementById("categoryTotalChart"), {
          type: 'bar',
          data: {
            labels: ['ÏãùÎπÑ', 'ÍµêÌÜµ', 'ÏáºÌïë', 'Íµ¨ÎèÖ', 'Í∏∞ÌÉÄ'],
            datasets: [{
              label: 'ÏßÄÏ∂ú Í∏àÏï°',
              data: [45000, 12000, 38000, 10000, 15000],
              backgroundColor: '#83A2DB',
              borderRadius: 8
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { display: false } },
            scales: { y: { beginAtZero: true } }
          }
        });
  
        new Chart(document.getElementById("dailyTotalChart"), {
          type: 'line',
          data: {
            labels: ['5/1', '5/2', '5/3', '5/4', '5/5'],
            datasets: [{
              label: 'Ï¥ù ÏßÄÏ∂ú Í∏àÏï°',
              data: [20000, 35000, 28000, 22000, 31000],
              backgroundColor: 'rgba(131, 162, 219, 0.3)',
              borderColor: '#83A2DB',
              tension: 0.4,
              fill: true
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'bottom' } },
            scales: { y: { beginAtZero: true } }
          }
        });
  
        new Chart(document.getElementById("categoryDailyChart"), {
          type: 'line',
          data: {
            labels: ['5/1', '5/2', '5/3', '5/4', '5/5'],
            datasets: [
              { label: 'ÏãùÎπÑ', data: [10000, 12000, 9000, 11000, 13000], borderColor: '#FF6384', fill: false },
              { label: 'ÍµêÌÜµ', data: [3000, 2000, 2500, 2300, 2800], borderColor: '#36A2EB', fill: false },
              { label: 'ÏáºÌïë', data: [6000, 10000, 8000, 7000, 9000], borderColor: '#FFCE56', fill: false }
            ]
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'bottom' } },
            scales: { y: { beginAtZero: true } }
          }
        });
      }
    </script>
  </body>
  </html>
  